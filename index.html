<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë§í•˜ëŠ” ì§€í•˜ì²  ì²™ì²™ë°•ì‚¬ë‹˜ (ìµœì¢… ì™„ì„±)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
        
        body {
            font-family: 'Jua', sans-serif;
            background-color: #FFF8E1;
            text-align: center;
            margin: 0;
            padding: 10px;
            user-select: none;
            -webkit-user-select: none;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        /* --- í™”ë©´ ê³µí†µ ìŠ¤íƒ€ì¼ --- */
        .screen {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 90vh;
        }

        /* 1. ì‹œì‘ í™”ë©´ */
        #start-screen { display: flex; }

        .menu-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 95%;
            max-width: 600px;
        }

        .menu-btn {
            padding: 20px;
            font-size: 20px;
            font-family: 'Jua', sans-serif;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
            transition: transform 0.1s;
            color: white;
            font-weight: bold;
            text-align: left;
            padding-left: 20px;
            position: relative;
        }
        .menu-btn:active { transform: scale(0.98); }
        
        .btn-line1 { background-color: #0052A4; } 
        .btn-line2 { background-color: #009D3E; } 
        .btn-line3 { background-color: #EF7C1C; } 
        .btn-line4 { background-color: #00A0E9; } 
        .btn-line5 { background-color: #996CAC; } 
        .btn-line9 { background-color: #AA9872; } 

        /* 2. ë°©í–¥ ì„ íƒ í™”ë©´ */
        #direction-screen { background: #fff; }
        
        .direction-btn {
            width: 80%;
            max-width: 400px;
            padding: 25px;
            margin: 15px;
            font-size: 24px;
            font-family: 'Jua', sans-serif;
            border: 4px solid #ddd;
            border-radius: 20px;
            background: white;
            color: #333;
            cursor: pointer;
            transition: all 0.2s;
        }
        .direction-btn:hover { background-color: #f0f0f0; }
        .direction-btn:active { transform: scale(0.95); border-color: #aaa;}

        /* 3. ê²Œì„ í™”ë©´ */
        header {
            display: none;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: white;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        #game-title { margin: 0; font-size: 24px; }
        #score-board { font-size: 22px; color: #555; font-weight: bold; }
        .highlight-score { color: #FF8F00; font-size: 26px; }

        .container {
            display: none;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .left-panel { flex: 1; min-width: 320px; }
        .right-panel { flex: 0.7; min-width: 280px; }

        /* ì§€ë„ ìŠ¤íƒ€ì¼ */
        #map-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            gap: 15px 5px; 
            padding: 20px;
            background: white;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 3px solid #eee;
        }

        .station-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 50px;
            position: relative;
        }

        .station-wrapper::after {
            content: '';
            position: absolute;
            top: 6px;
            right: -28px; 
            width: 30px;
            height: 4px;
            background-color: #eee;
            z-index: 0;
        }
        .station-wrapper:last-child::after { display: none; }
        
        .station-dot {
            width: 14px;
            height: 14px;
            background-color: #eee;
            border: 2px solid #ddd;
            border-radius: 50%;
            z-index: 1;
            transition: all 0.4s;
        }
        
        /* ì •ë‹µ ë§ì·„ì„ ë•Œ */
        .station-dot.active {
            transform: scale(1.3);
            border: 2px solid white;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }
        
        /* í‹€ë ¸ì„ ë•Œ (íšŒìƒ‰ ìœ ì§€ + í…Œë‘ë¦¬ ì§„í•˜ê²Œ) */
        .station-dot.missed {
            background-color: #bbb !important;
            border: 2px solid #666 !important;
        }

        .station-name {
            font-size: 10px;
            margin-top: 5px;
            color: #ccc;
            text-align: center;
            word-break: keep-all;
            height: 25px;
        }
        .station-name.revealed { color: #333; font-weight: bold; }
        .station-name.missed-name { color: #888; } /* ì˜¤ë‹µì€ ì¡°ê¸ˆ íë¦¬ê²Œ */

        .transfer-badges { display: flex; gap: 2px; justify-content: center; margin-top: 2px; visibility: hidden;}
        .revealed .transfer-badges { visibility: visible; }
        .line-badge { width: 6px; height: 6px; border-radius: 50%; display: inline-block; }

        /* ê²Œì„ ì˜ì—­ */
        #game-area {
            background-color: white;
            border-radius: 20px;
            padding: 20px;
            border: 5px solid #ddd;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        #current-station {
            font-size: 30px;
            font-weight: bold;
            margin: 10px 0;
            padding: 15px;
            background-color: #fff9e6;
            border-radius: 15px;
        }

        .option-btn {
            display: flex;
            align-items: center;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            font-size: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            background-color: #f7fafc;
            color: #444;
            cursor: pointer;
            font-family: 'Jua', sans-serif;
            position: relative;
        }
        .option-btn:hover { background-color: #edf2f7; }
        .option-btn:active, .option-btn.key-pressed { transform: scale(0.98); background-color: #e2e8f0; border-color: #cbd5e0;}
        .option-btn:disabled { opacity: 0.6; cursor: not-allowed; }

        .btn-num {
            color: white;
            width: 30px; height: 30px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin-right: 15px; font-size: 18px; font-weight: bold;
        }

        .wrong-feedback {
            font-size: 14px;
            color: #e53e3e;
            margin-left: auto;
            font-weight: bold;
        }

        /* ì„¤ëª… ì¹´ë“œ */
        #info-card {
            background-color: #FFF;
            border-radius: 20px;
            padding: 25px;
            border: 4px solid #FFAB91;
            text-align: left;
            position: sticky;
            top: 20px;
        }
        #info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px dashed #FFCCBC;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        #info-title { font-size: 24px; color: #D84315; margin: 0; }
        
        #speak-btn {
            background-color: #FF7043;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 0 #D84315;
            transition: transform 0.1s;
        }
        #speak-btn:active { transform: translateY(4px); box-shadow: none; }

        #info-text { font-size: 22px; color: #444; line-height: 1.6; }
        #message { height: 30px; font-size: 20px; font-weight: bold; margin-top: 10px; }
        .correct { color: #2E7D32; } .wrong { color: #C62828; }

        #success-screen { display: none; }
        .nav-btn { background-color: #555; color: white; padding: 12px 25px; border: none; border-radius: 30px; font-size: 18px; margin-top: 15px; cursor: pointer;}
        
    </style>
</head>
<body>

    <div id="start-screen" class="screen">
        <h1 style="font-size: 40px; margin-bottom: 10px;">ğŸ”Š ì§€í•˜ì²  ì²™ì²™ë°•ì‚¬</h1>
        <p style="font-size: 18px; color:#666; margin-bottom: 30px;">ì˜¤ëŠ˜ì€ ì–´ë–¤ ë…¸ì„ ì„ ìš´ì „í•´ë³¼ê¹Œìš”?</p>
        
        <div class="menu-container">
            <button class="menu-btn btn-line1" onclick="showDirection('1')">ğŸŸ¦ 1í˜¸ì„ <br><span style="font-size:16px">(ì„œìš¸ì—­ â†” ì¸ì²œ)</span></button>
            <button class="menu-btn btn-line2" onclick="showDirection('2')">ğŸŸ© 2í˜¸ì„ <br><span style="font-size:16px">(ìˆœí™˜ì„ )</span></button>
            <button class="menu-btn btn-line3" onclick="showDirection('3')">ğŸŸ§ 3í˜¸ì„ <br><span style="font-size:16px">(ì˜¤ê¸ˆ â†” ëŒ€í™”)</span></button>
            <button class="menu-btn btn-line4" onclick="showDirection('4')">ğŸŸ¦ 4í˜¸ì„ <br><span style="font-size:16px">(ì˜¤ì´ë„ â†” ì§„ì ‘)</span></button>
            <button class="menu-btn btn-line5" onclick="showDirection('5')">ğŸŸª 5í˜¸ì„ <br><span style="font-size:16px">(ë°©í™” â†” í•˜ë‚¨)</span></button>
            <button class="menu-btn btn-line9" onclick="showDirection('9')">ğŸŸ¨ 9í˜¸ì„ <br><span style="font-size:16px">(ë³´í›ˆë³‘ì› â†” ê°œí™”)</span></button>
        </div>
    </div>

    <div id="direction-screen" class="screen">
        <h2 style="font-size: 30px; margin-bottom: 30px;">ì–´ëŠ ë°©í–¥ìœ¼ë¡œ ê°ˆê¹Œìš”?</h2>
        <button id="dir-btn-forward" class="direction-btn" onclick="startGameWithDirection(false)">â¡ ì •ë°©í–¥</button>
        <button id="dir-btn-reverse" class="direction-btn" onclick="startGameWithDirection(true)">â¬… ì—­ë°©í–¥</button>
        <button style="margin-top:20px; background:none; border:none; color:#999; text-decoration:underline; cursor:pointer;" onclick="location.reload()">ë’¤ë¡œ ê°€ê¸°</button>
    </div>

    <header id="game-header">
        <h1 id="game-title">ë…¸ì„  ì´ë¦„</h1>
        <div id="score-board">ë§ì¶˜ ê°œìˆ˜: <span class="highlight-score">0</span> / 0</div>
    </header>

    <div class="container" id="game-container">
        <div class="left-panel">
            <div id="map-container"></div>

            <div id="game-area">
                <div id="play-screen">
                    <div style="font-size:16px; color:#888;">ì§€ê¸ˆ ë„ì°©í•œ ì—­ì€?</div>
                    <div id="current-station">ì¶œë°œì—­</div>
                    <div class="arrow" style="font-size: 20px; color:#aaa; margin:10px 0;">â¬‡ï¸ ë‹¤ìŒ ì—­ì€ ì–´ë””ì¼ê¹Œìš”? â¬‡ï¸</div>
                    
                    <div id="options-container"></div>
                    <div id="message"></div>
                </div>

                <div id="success-screen">
                    <h2 style="font-size:35px;">ğŸ‰ ì¢…ì  ë„ì°©! ğŸ‰</h2>
                    <p id="success-msg" style="font-size:22px;">ìš´ì „ ì¢…ë£Œ!</p>
                    <p id="final-score" style="font-size:20px; color:#FF8F00; font-weight:bold;"></p>
                    <button class="nav-btn" onclick="location.reload()">ì²˜ìŒìœ¼ë¡œ</button>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div id="info-card">
                <div id="info-header">
                    <h3 id="info-title">ì—­ ì´ì•¼ê¸° ğŸ“–</h3>
                    <button id="speak-btn" onclick="speakCurrentText()" title="ë‹¤ì‹œ ë“£ê¸°">ğŸ”Š</button>
                </div>
                <div id="info-text">
                    ì•ˆë…•? ë‚˜ëŠ” ì§€í•˜ì²  ìš”ì •ì´ì•¼.<br>
                    ì •ë‹µì„ ë§ì¶”ë©´ ë‚´ê°€ ì¬ë¯¸ìˆëŠ” ì´ì•¼ê¸°ë¥¼ ì½ì–´ì¤„ê²Œ!
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. ë°ì´í„° ---
        const lineColors = {
            "1": "#0052A4", "2": "#009D3E", "3": "#EF7C1C", "4": "#00A0E9", 
            "5": "#996CAC", "6": "#CD7C2F", "7": "#747F00", "8": "#E6186C", "9": "#AA9872",
            "ë¶„ë‹¹": "#F5A200", "ì‹ ë¶„ë‹¹": "#D4003B", "ê³µí•­": "#0090D2", 
            "ì‹ ë¦¼": "#6789CA", "ì„œí•´": "#81A914", "ì¸ì²œ1": "#7CA8D5", "ìˆ˜ì¸ë¶„ë‹¹": "#F5A200", "ê²½ì˜ì¤‘ì•™": "#77C4A3"
        };

        const otherStationsDB = {
            "ê°•ë‚¨": "2í˜¸ì„ ", "ì ì‹¤": "2í˜¸ì„ ", "í™ëŒ€ì…êµ¬": "2í˜¸ì„ ", "ì‹ ë„ë¦¼": "1,2í˜¸ì„ ", "ì‚¬ë‹¹": "2,4í˜¸ì„ ",
            "ì„ì§€ë¡œì…êµ¬": "2í˜¸ì„ ", "ì„±ìˆ˜": "2í˜¸ì„ ", "ì••êµ¬ì •": "3í˜¸ì„ ", "ì‹ ì‚¬": "3í˜¸ì„ ", "ì–‘ì¬": "3í˜¸ì„ ",
            "ëª…ë™": "4í˜¸ì„ ", "ë™ëŒ€ë¬¸": "1,4í˜¸ì„ ", "í˜œí™”": "4í˜¸ì„ ", "ì´íƒœì›": "6í˜¸ì„ ", "ìƒìˆ˜": "6í˜¸ì„ ",
            "ê±´ëŒ€ì…êµ¬": "2,7í˜¸ì„ ", "ê´‘í™”ë¬¸": "5í˜¸ì„ ", "ì²œí˜¸": "5,8í˜¸ì„ ", "ìˆ˜ì„œ": "3,ìˆ˜ì¸ë¶„ë‹¹", "íŒêµ": "ì‹ ë¶„ë‹¹",
            "ì™•ì‹­ë¦¬": "2,5,ê²½ì˜ì¤‘ì•™", "ì—¬ì˜ë„": "5,9í˜¸ì„ ", "ê¹€í¬ê³µí•­": "5,9,ê³µí•­"
        };

        const gameData = {
            "1": {
                name: "1í˜¸ì„ ",
                mainColor: "#0052A4",
                stations: [
                    { name: "ì„œìš¸ì—­", trans: ["4", "ê³µí•­", "ê²½ì˜ì¤‘ì•™"], desc: "ìš°ë¦¬ë‚˜ë¼ì—ì„œ ì œì¼ í° ê¸°ì°¨ì—­! ì¼€ì´í‹°ì—‘ìŠ¤ê°€ ì¹™ì¹™í­í­!" },
                    { name: "ë‚¨ì˜", trans: [], desc: "ë§›ìˆëŠ” ìŠ¤í…Œì´í¬ ëƒ„ìƒˆê°€ ë‚˜ëŠ” ë™ë„¤ì•¼." },
                    { name: "ìš©ì‚°", trans: ["ê²½ì˜ì¤‘ì•™"], desc: "ë¡œë´‡ì´ë‘ ì»´í“¨í„°ê°€ ê°€ë“í•œ ì „ììƒê°€ê°€ ìˆì–´!" },
                    { name: "ë…¸ëŸ‰ì§„", trans: ["9"], desc: "í„ë–¡í„ë–¡ ë¬¼ê³ ê¸°ê°€ ìˆëŠ” ìˆ˜ì‚°ì‹œì¥!" },
                    { name: "ëŒ€ë°©", trans: ["ì‹ ë¦¼"], desc: "ì—¬ì˜ë„ë¡œ ë“¤ì–´ê°€ëŠ” ì…êµ¬ì•¼." },
                    { name: "ì‹ ê¸¸", trans: ["5"], desc: "ë§¤ìš´ ì§¬ë½•ì´ ì•„ì£¼ ìœ ëª…í•´. í˜¸ë¡œë¡!" },
                    { name: "ì˜ë“±í¬", trans: [], desc: "ê¸°ì°¨ë„ ì„œê³ , ë°±í™”ì ë„ ìˆëŠ” í° ì—­ì´ì•¼." },
                    { name: "ì‹ ë„ë¦¼", trans: ["2"], desc: "ì‚¬ëŒë“¤ì´ ì •ë§ ë§ì´ ê°ˆì•„íƒ€ëŠ” ì—­ì´ì•¼. ë¶ì ë¶ì !" },
                    { name: "êµ¬ë¡œ", trans: [], desc: "ì—¬ê¸°ì„œ ì¸ì²œ ê°€ëŠ” ê¸¸ê³¼ ìˆ˜ì› ê°€ëŠ” ê¸¸ì´ ê°ˆë¼ì ¸!" },
                    { name: "êµ¬ì¼", trans: [], desc: "ë” ì•¼êµ¬ì¥ì´ ë³´ì—¬! ì•¼êµ¬ ë³´ëŸ¬ ê°€ì!" },
                    { name: "ê°œë´‰", trans: [], desc: "ì¬ë¯¸ìˆëŠ” ì˜í™”ê´€ì´ ìˆëŠ” ì—­ì´ì•¼." },
                    { name: "ì˜¤ë¥˜ë™", trans: [], desc: "ì˜ˆì „ì— ì£¼ë§‰ê±°ë¦¬ê°€ ìˆë˜ ê³³ì´ë˜." },
                    { name: "ì˜¨ìˆ˜", trans: ["7"], desc: "7í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒ€ë©´ ê°•ë‚¨ìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆì–´." },
                    { name: "ì—­ê³¡", trans: [], desc: "ì‹œì¥ì´ ê°€ê¹Œì›Œì„œ ì‚¬ëŒë“¤ì´ ë§ì•„." },
                    { name: "ì†Œì‚¬", trans: ["ì„œí•´"], desc: "ì•„ì£¼ ë§›ìˆëŠ” ë³µìˆ­ì•„ê°€ ìœ ëª…í–ˆë˜ ê³³ì´ë˜." },
                    { name: "ë¶€ì²œ", trans: [], desc: "í° ì´ë§ˆíŠ¸ë‘ ì—­ì´ ì—°ê²°ë˜ì–´ ìˆì–´." },
                    { name: "ì¤‘ë™", trans: [], desc: "ì•„íŒŒíŠ¸ê°€ ì•„ì£¼ ë§ì€ ë™ë„¤ì•¼." },
                    { name: "ì†¡ë‚´", trans: [], desc: "ì˜í™” ê±°ë¦¬ì— ê°ˆ ìˆ˜ ìˆëŠ” ë²„ìŠ¤ë¥¼ íƒˆ ìˆ˜ ìˆì–´." },
                    { name: "ë¶€ê°œ", trans: [], desc: "ì¡°ìš©í•˜ê³  ì‚´ê¸° ì¢‹ì€ ë™ë„¤ì•¼." },
                    { name: "ë¶€í‰", trans: ["ì¸ì²œ1"], desc: "ì§€í•˜ìƒê°€ê°€ ë¯¸ë¡œì²˜ëŸ¼ ì—„ì²­ ë„“ì–´! ê¸¸ ìƒì§€ ì•Šê²Œ ì¡°ì‹¬!" },
                    { name: "ë°±ìš´", trans: [], desc: "í•˜ì–€ êµ¬ë¦„ì´ë¼ëŠ” ì˜ˆìœ ì´ë¦„ì´ì•¼." },
                    { name: "ë™ì•”", trans: [], desc: "êµ¬ë¦¬ê´‘ì‚°ì´ ìˆë˜ ë§ˆì„ì´ë˜." },
                    { name: "ê°„ì„", trans: [], desc: "í° ë°”ìœ„ê°€ ìˆì—ˆë‹¤ê³  í•´ì„œ ê°„ì„ì´ë˜." },
                    { name: "ì£¼ì•ˆ", trans: ["ì¸ì²œ2"], desc: "ì¸ì²œ ì§€í•˜ì²  2í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒˆ ìˆ˜ ìˆì–´." },
                    { name: "ë„í™”", trans: [], desc: "ë³µìˆ­ì•„ ê½ƒì´ ë§ì´ í”¼ë˜ ë™ë„¤ë˜." },
                    { name: "ì œë¬¼í¬", trans: [], desc: "í•™êµë“¤ì´ ë§ì´ ëª¨ì—¬ìˆëŠ” ê³³ì´ì•¼." },
                    { name: "ë„ì›", trans: [], desc: "ì¸ì²œ ì¶•êµ¬ ì „ìš© ê²½ê¸°ì¥ì´ ë°”ë¡œ ì˜†ì´ì•¼!" },
                    { name: "ë™ì¸ì²œ", trans: [], desc: "ë§›ìˆëŠ” ë‹­ê°•ì •ì´ ìœ ëª…í•œ ì‹œì¥ì´ ìˆì–´!" },
                    { name: "ì¸ì²œ", trans: ["ìˆ˜ì¸ë¶„ë‹¹"], desc: "ë„ì°©! ì§œì¥ë©´ì´ íƒœì–´ë‚œ ì°¨ì´ë‚˜íƒ€ìš´ì´ ìˆì–´!" }
                ]
            },
            "2": {
                name: "2í˜¸ì„ ",
                mainColor: "#009D3E",
                stations: [
                    { name: "ì‹œì²­", trans: ["1"], desc: "ì„œìš¸ì˜ ì¤‘ì‹¬! ì‹œì²­ ì• ê´‘ì¥ì—ì„œ ë›°ì–´ë†€ì." },
                    { name: "ì„ì§€ë¡œì…êµ¬", trans: [], desc: "ëª…ë™ì´ë‘ ê°€ê¹Œì›Œì„œ ë°±í™”ì ì´ ë§ì•„." },
                    { name: "ì„ì§€ë¡œ3ê°€", trans: ["3"], desc: "ì£¼í™©ìƒ‰ 3í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒˆ ìˆ˜ ìˆì–´." },
                    { name: "ì„ì§€ë¡œ4ê°€", trans: ["5"], desc: "ì¡°ëª… ê°€ê²Œê°€ ë§ì•„ì„œ ë°˜ì§ë°˜ì§í•´." },
                    { name: "ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›", trans: ["4", "5"], desc: "ìš°ì£¼ì„ ì²˜ëŸ¼ ìƒê¸´ ë©‹ì§„ ê±´ë¬¼ì´ ìˆì–´!" },
                    { name: "ì‹ ë‹¹", trans: ["6"], desc: "ë§›ìˆëŠ” ë–¡ë³¶ì´ íƒ€ìš´ì´ ìˆëŠ” ê³³ì´ì•¼." },
                    { name: "ìƒì™•ì‹­ë¦¬", trans: [], desc: "ì™•ì‹­ë¦¬ ì˜†ì— ìˆëŠ” ìœ—ë§ˆì„ì´ì•¼." },
                    { name: "ì™•ì‹­ë¦¬", trans: ["5", "ìˆ˜ì¸ë¶„ë‹¹", "ê²½ì˜ì¤‘ì•™"], desc: "ê¸°ì°¨ê°€ 4ê°œë‚˜ ë‹¤ë‹ˆëŠ” ì•„ì£¼ í° ì—­ì´ì•¼!" },
                    { name: "í•œì–‘ëŒ€", trans: [], desc: "í•œì–‘ëŒ€í•™êµê°€ ë°”ë¡œ ì˜†ì— ìˆì–´." },
                    { name: "ëšì„¬", trans: [], desc: "ì„œìš¸ìˆ² ê³µì›ìœ¼ë¡œ ì†Œí’ ê°€ê¸° ì¢‹ì•„." },
                    { name: "ì„±ìˆ˜", trans: [], desc: "ì˜ˆìœ ì¹´í˜ë‘ êµ¬ë‘ ê°€ê²Œê°€ ë§ì•„." },
                    { name: "ê±´ëŒ€ì…êµ¬", trans: ["7"], desc: "ë§›ìˆëŠ” ì‹ë‹¹ì´ë‘ ë°±í™”ì ì´ ìˆì–´." },
                    { name: "êµ¬ì˜", trans: [], desc: "ë™ì„œìš¸í„°ë¯¸ë„ë¡œ ê°€ëŠ” ë²„ìŠ¤ë¥¼ íƒˆ ìˆ˜ ìˆì–´." },
                    { name: "ê°•ë³€", trans: [], desc: "í•œê°•ì´ ë°”ë¡œ ë³´ì—¬! ë©€ë¦¬ ê°€ëŠ” ë²„ìŠ¤ í„°ë¯¸ë„ë„ ìˆì–´." },
                    { name: "ì ì‹¤ë‚˜ë£¨", trans: [], desc: "í•œê°• ìì „ê±° ë„ë¡œë‘ ì—°ê²°ë˜ì–´ ìˆì–´." },
                    { name: "ì ì‹¤", trans: ["8"], desc: "ë¡¯ë°ì›”ë“œ! ë†€ì´ê³µì›ì´ë‘ ì—„ì²­ ë†’ì€ íƒ€ì›Œê°€ ìˆì–´!" },
                    { name: "ì ì‹¤ìƒˆë‚´", trans: [], desc: "ì•„íŒŒíŠ¸ê°€ ì •ë§ ë§ì€ ë™ë„¤ì•¼." },
                    { name: "ì¢…í•©ìš´ë™ì¥", trans: ["9"], desc: "ì•¼êµ¬ì¥ì—ì„œ ì‘ì› ì†Œë¦¬ê°€ ë“¤ë ¤! âš¾" },
                    { name: "ì‚¼ì„±", trans: [], desc: "ì½”ì—‘ìŠ¤ ì•„ì¿ ì•„ë¦¬ì›€ì— ë¬¼ê³ ê¸° ë³´ëŸ¬ ê°€ì! ğŸ " },
                    { name: "ì„ ë¦‰", trans: ["ìˆ˜ì¸ë¶„ë‹¹"], desc: "ë„ì‹¬ ì†ì— ì™•ë¦‰ ìˆ²ì´ ìˆì–´." },
                    { name: "ì—­ì‚¼", trans: [], desc: "ë†’ì€ íšŒì‚¬ ê±´ë¬¼ë“¤ì´ ì•„ì£¼ ë§ì•„." },
                    { name: "ê°•ë‚¨", trans: ["ì‹ ë¶„ë‹¹"], desc: "ì‚¬ëŒë„ ë§ê³  ì°¨ë„ ë§ì€ ì„œìš¸ì˜ ë²ˆí™”ê°€ì•¼!" },
                    { name: "êµëŒ€", trans: ["3"], desc: "ë²•ì›ê³¼ ê²€ì°°ì²­ì´ ìˆëŠ” ê³³ì´ì•¼." },
                    { name: "ì„œì´ˆ", trans: [], desc: "ì˜ˆìˆ ì˜ ì „ë‹¹ìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆì–´." },
                    { name: "ë°©ë°°", trans: [], desc: "ì¡°ìš©í•˜ê³  ì‚´ê¸° ì¢‹ì€ ë™ë„¤ì•¼." },
                    { name: "ì‚¬ë‹¹", trans: ["4"], desc: "ê²½ê¸°ë„ë¡œ ê°€ëŠ” ë¹¨ê°„ ë²„ìŠ¤ë¥¼ ë§ì´ íƒ€ëŠ” ê³³ì´ì•¼." },
                    { name: "ë‚™ì„±ëŒ€", trans: [], desc: "ê°•ê°ì°¬ ì¥êµ°ë‹˜ì´ íƒœì–´ë‚œ ê³³ì´ë˜." },
                    { name: "ì„œìš¸ëŒ€ì…êµ¬", trans: ["ì‹ ë¦¼"], desc: "ì„œìš¸ëŒ€í•™êµë¡œ ê°€ëŠ” ê´€ë¬¸ì´ì•¼." },
                    { name: "ë´‰ì²œ", trans: [], desc: "ë†’ì€ ì–¸ë•ì´ ë§ì€ ë™ë„¤ì•¼." },
                    { name: "ì‹ ë¦¼", trans: ["ì‹ ë¦¼"], desc: "ìˆœëŒ€íƒ€ìš´ì´ ìœ ëª…í•´! ëƒ ëƒ ." },
                    { name: "ì‹ ëŒ€ë°©", trans: [], desc: "ë³´ë¼ë§¤ ê³µì›ì´ë‘ ê°€ê¹Œì›Œ." },
                    { name: "êµ¬ë¡œë””ì§€í„¸ë‹¨ì§€", trans: [], desc: "ì˜›ë‚ ì—” ê³µì¥ì´ì—ˆëŠ”ë° ì§€ê¸ˆì€ íšŒì‚¬ê°€ ë§ì•„." },
                    { name: "ëŒ€ë¦¼", trans: ["7"], desc: "ë§›ìˆëŠ” ì¤‘êµ­ ìŒì‹ì„ íŒŒëŠ” ê°€ê²Œê°€ ë§ì•„." },
                    { name: "ì‹ ë„ë¦¼", trans: ["1"], desc: "ì‚¬ëŒë“¤ì´ ì •ë§ ë§ì´ ê°ˆì•„íƒ€ëŠ” ì—­ì´ì•¼. ì¡°ì‹¬ì¡°ì‹¬!" },
                    { name: "ë¬¸ë˜", trans: [], desc: "ì² ê³µì†Œì™€ ì˜ˆìˆ ê°€ë“¤ì´ í•¨ê»˜ ìˆëŠ” ë™ë„¤ì•¼." },
                    { name: "ì˜ë“±í¬êµ¬ì²­", trans: ["5"], desc: "ë³´ë¼ìƒ‰ 5í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒˆ ìˆ˜ ìˆì–´." },
                    { name: "ë‹¹ì‚°", trans: ["9"], desc: "í•œê°•ì„ ê±´ë„ˆëŠ” ì „ì² ì„ ë³¼ ìˆ˜ ìˆì–´!" },
                    { name: "í•©ì •", trans: ["6"], desc: "ë§›ìˆëŠ” ë§›ì§‘ë“¤ì´ ê³¨ëª©ë§ˆë‹¤ ìˆ¨ì–´ìˆì–´." },
                    { name: "í™ëŒ€ì…êµ¬", trans: ["ê³µí•­", "ê²½ì˜ì¤‘ì•™"], desc: "ë²„ìŠ¤í‚¹í•˜ëŠ” í˜• ëˆ„ë‚˜ë“¤ì´ ë…¸ë˜ë¥¼ ë¶ˆëŸ¬! ğŸ¸" },
                    { name: "ì‹ ì´Œ", trans: [], desc: "ì—°ì„¸ëŒ€í•™êµê°€ ìˆëŠ” ëŒ€í•™ê°€ì•¼." },
                    { name: "ì´ëŒ€", trans: [], desc: "ì´í™”ì—¬ëŒ€ ì•ì— ì˜ˆìœ ì˜·ê°€ê²Œê°€ ë§ì•„." },
                    { name: "ì•„í˜„", trans: [], desc: "ì›¨ë”©ë“œë ˆìŠ¤ ê°€ê²Œë“¤ì´ ë°˜ì§ë°˜ì§í•´." },
                    { name: "ì¶©ì •ë¡œ", trans: ["5"], desc: "ê²½ê¸°ëŒ€í•™êµê°€ ê·¼ì²˜ì— ìˆì–´." },
                    { name: "ì‹œì²­(ë„ì°©)", trans: ["1"], desc: "í•œ ë°”í€´ ë‹¤ ëŒì•˜ë‹¤! ì„œìš¸ê´‘ì¥ì— ë„ì°©!" }
                ]
            },
            "3": {
                name: "3í˜¸ì„ ",
                mainColor: "#EF7C1C",
                stations: [
                    { name: "ì˜¤ê¸ˆ", trans: ["5"], desc: "3í˜¸ì„ ì´ ì‹œì‘í•˜ëŠ” ê³³ì´ì•¼." },
                    { name: "ê²½ì°°ë³‘ì›", trans: [], desc: "ê²½ì°° ì•„ì €ì”¨ë“¤ì„ ì¹˜ë£Œí•´ì£¼ëŠ” ë³‘ì›ì´ ìˆì–´." },
                    { name: "ê°€ë½ì‹œì¥", trans: ["8"], desc: "ê³¼ì¼ì´ë‘ ì±„ì†Œê°€ ê°€ë“í•œ ì—„ì²­ í° ì‹œì¥ì´ì•¼! ğŸ" },
                    { name: "ìˆ˜ì„œ", trans: ["ìˆ˜ì¸ë¶„ë‹¹", "GTX"], desc: "SRTë¼ëŠ” ë¹ ë¥¸ ê¸°ì°¨ë¥¼ íƒˆ ìˆ˜ ìˆì–´! ğŸš…" },
                    { name: "ì¼ì›", trans: [], desc: "ì‚¼ì„±ì„œìš¸ë³‘ì›ì´ ì•„ì£¼ ê°€ê¹Œì›Œ." },
                    { name: "ëŒ€ì²­", trans: [], desc: "ì¡°ìš©í•œ ì•„íŒŒíŠ¸ ë§ˆì„ì´ì•¼." },
                    { name: "í•™ì—¬ìš¸", trans: [], desc: "ì„¸í…(SETEC)ì´ë¼ëŠ” ì „ì‹œì¥ì´ ìˆì–´." },
                    { name: "ëŒ€ì¹˜", trans: [], desc: "ê³µë¶€í•˜ëŠ” í•™ì›ì´ ì„¸ìƒì—ì„œ ì œì¼ ë§ì„ê±¸? âœï¸" },
                    { name: "ë„ê³¡", trans: ["ìˆ˜ì¸ë¶„ë‹¹"], desc: "ë…¸ë€ìƒ‰ ìˆ˜ì¸ë¶„ë‹¹ì„ ìœ¼ë¡œ ê°ˆì•„íƒ€ëŠ” ê³³ì´ì•¼." },
                    { name: "ë§¤ë´‰", trans: [], desc: "ì–‘ì¬ì²œ ëƒ‡ê°€ì—ì„œ ì‚°ì±…í•˜ê¸° ì¢‹ì•„." },
                    { name: "ì–‘ì¬", trans: ["ì‹ ë¶„ë‹¹"], desc: "ê½ƒ ì‹œì¥ì´ ìˆì–´ì„œ í–¥ê¸°ê°€ ë‚˜! ğŸŒ¹" },
                    { name: "ë‚¨ë¶€í„°ë¯¸ë„", trans: [], desc: "ì˜ˆìˆ ì˜ ì „ë‹¹ì— ìŒì•…íšŒ ë³´ëŸ¬ ê°ˆê¹Œ? ğŸ»" },
                    { name: "ê³ ì†í„°ë¯¸ë„", trans: ["7", "9"], desc: "ë©€ë¦¬ ì—¬í–‰ ê°€ëŠ” ë²„ìŠ¤ë¥¼ íƒ€ëŠ” ê³³ì´ì•¼! ğŸšŒ" },
                    { name: "ì ì›", trans: [], desc: "ëˆ„ì—ë¥¼ í‚¤ìš°ë˜ ê³³ì´ë¼ ì ì›ì´ë˜. ğŸ›" },
                    { name: "ì‹ ì‚¬", trans: ["ì‹ ë¶„ë‹¹"], desc: "ê°€ë¡œìˆ˜ê¸¸ì— ë©‹ì§„ ê°€ê²Œë“¤ì´ ë§ì•„." },
                    { name: "ì••êµ¬ì •", trans: [], desc: "ë°±í™”ì ì´ë‘ ë©‹ì§„ ê±´ë¬¼ì´ ë§ì•„." },
                    { name: "ì˜¥ìˆ˜", trans: ["ê²½ì˜ì¤‘ì•™"], desc: "í•œê°•ì´ ì‹œì›í•˜ê²Œ ë³´ì´ëŠ” ì—­ì´ì•¼." },
                    { name: "ê¸ˆí˜¸", trans: [], desc: "ì•„íŒŒíŠ¸ê°€ ë§ì€ ì–¸ë• ë™ë„¤ì•¼." },
                    { name: "ì•½ìˆ˜", trans: ["6"], desc: "ì•½ìˆ˜í„°ê°€ ìˆì—ˆë˜ ê³³ì´ë˜." },
                    { name: "ë™ëŒ€ì…êµ¬", trans: [], desc: "ì¥ì¶©ì²´ìœ¡ê´€ì´ë‘ ì¡±ë°œ ê³¨ëª©ì´ ìˆì–´!" },
                    { name: "ì¶©ë¬´ë¡œ", trans: ["4"], desc: "ë‚¨ì‚° í•œì˜¥ë§ˆì„ì— ê°ˆ ìˆ˜ ìˆì–´." },
                    { name: "ì„ì§€ë¡œ3ê°€", trans: ["2"], desc: "ì¸ì‡„ì†Œì™€ ë§›ì§‘ì´ ë§ì€ ê³¨ëª©ì´ì•¼." },
                    { name: "ì¢…ë¡œ3ê°€", trans: ["1", "5"], desc: "í• ì•„ë²„ì§€ í• ë¨¸ë‹ˆë“¤ì´ ë§ì´ ì˜¤ì‹œëŠ” ê³³ì´ì•¼." },
                    { name: "ì•ˆêµ­", trans: [], desc: "ë¶ì´Œ í•œì˜¥ë§ˆì„ì—ì„œ í•œë³µ ì…ê³  ì‚¬ì§„ ì°ì! ğŸ“¸" },
                    { name: "ê²½ë³µê¶", trans: [], desc: "ì„ê¸ˆë‹˜ì´ ì‚¬ì‹œë˜ ê²½ë³µê¶ì´ ìˆì–´! ğŸ¤´" },
                    { name: "ë…ë¦½ë¬¸", trans: [], desc: "ì„œëŒ€ë¬¸ í˜•ë¬´ì†Œì™€ ë…ë¦½ë¬¸ì´ ìˆì–´. ëŒ€í•œë…ë¦½ ë§Œì„¸! ğŸ‡°ğŸ‡·" },
                    { name: "ë¬´ì•…ì¬", trans: [], desc: "í˜¸ë‘ì´ê°€ ë‚˜ì˜¤ë˜ ê³ ê°œë˜! ì–´í¥! ğŸ¯" },
                    { name: "í™ì œ", trans: [], desc: "ì‹œì¥ì´ ìˆëŠ” ì •ê²¨ìš´ ë™ë„¤ì•¼." },
                    { name: "ë…¹ë²ˆ", trans: [], desc: "ì€í‰êµ¬ì²­ì´ ê°€ê¹Œì›Œ." },
                    { name: "ë¶ˆê´‘", trans: ["6"], desc: "ë¶í•œì‚°ìœ¼ë¡œ ë“±ì‚° ê°€ì! â›°ï¸" },
                    { name: "ì—°ì‹ ë‚´", trans: ["6"], desc: "ì‹œì¥ì´ë‘ ê°€ê²Œê°€ ë§ì•„ì„œ ë¶ì ë¶ì í•´." },
                    { name: "êµ¬íŒŒë°œ", trans: [], desc: "ë¡¯ë°ëª°ì—ì„œ ì‡¼í•‘í•˜ê³  ë†€ ìˆ˜ ìˆì–´." },
                    { name: "ì§€ì¶•", trans: [], desc: "ìƒˆ ì•„íŒŒíŠ¸ë“¤ì´ ë§ì´ ìƒê²¼ì–´." },
                    { name: "ì‚¼ì†¡", trans: [], desc: "ìŠ¤íƒ€í•„ë“œ ê³ ì–‘ì ì— ê°ˆ ìˆ˜ ìˆì–´! ğŸ±" },
                    { name: "ì›í¥", trans: [], desc: "ì´ì¼€ì•„ë‘ ê°€ê¹Œìš´ ì—­ì´ì•¼." },
                    { name: "ì›ë‹¹", trans: [], desc: "ê³ ì–‘ì‹œì²­ì´ ìˆëŠ” ê³³ì´ì•¼." },
                    { name: "í™”ì •", trans: [], desc: "ê³ ì–‘ ì–´ë¦°ì´ ë°•ë¬¼ê´€ì´ ìˆì–´! ğŸˆ" },
                    { name: "ëŒ€ê³¡", trans: ["ê²½ì˜ì¤‘ì•™", "ì„œí•´"], desc: "ë…¼ë°­ ì‚¬ì´ë¡œ ê¸°ì°¨ê°€ ë‹¬ë ¤!" },
                    { name: "ë°±ì„", trans: [], desc: "ì¢…í•©í„°ë¯¸ë„ì´ ìˆì–´." },
                    { name: "ë§ˆë‘", trans: [], desc: "ë²•ì›ê³¼ í˜¸ìˆ˜ê³µì›ì´ ê°€ê¹Œì›Œ." },
                    { name: "ì •ë°œì‚°", trans: [], desc: "ì¼ì‚° í˜¸ìˆ˜ê³µì›ì—ì„œ ìì „ê±° íƒ€ì! ğŸš²" },
                    { name: "ì£¼ì—½", trans: [], desc: "ì•„íŒŒíŠ¸ê°€ ë§ì€ ì¼ì‚°ì˜ ì¤‘ì‹¬ì´ì•¼." },
                    { name: "ëŒ€í™”", trans: [], desc: "í‚¨í…ìŠ¤ë¼ëŠ” ì•„ì£¼ í° ì „ì‹œì¥ì´ ìˆì–´! ë„ì°©!" }
                ]
            },
            "4": {
                name: "4í˜¸ì„ ",
                mainColor: "#00A0E9",
                stations: [
                    { name: "ì˜¤ì´ë„", trans: ["ìˆ˜ì¸ë¶„ë‹¹"], desc: "ë¹¨ê°„ ë“±ëŒ€ì™€ ë°”ë‹¤ê°€ ìˆì–´! ê°ˆë§¤ê¸°ì•¼ ì•ˆë…•? ğŸŒŠ" },
                    { name: "ì •ì™•", trans: [], desc: "ì‹œí¥ì— ìˆëŠ” í° ì—­ì´ì•¼." },
                    { name: "ì‹ ê¸¸ì˜¨ì²œ", trans: [], desc: "ì˜¨ì²œì€ ì—†ì§€ë§Œ ì´ë¦„ì´ ì˜¨ì²œì—­ì´ì•¼. ì¬ë°Œì§€? â™¨ï¸" },
                    { name: "ì´ˆì§€", trans: ["ì„œí•´"], desc: "ì„œí•´ì„ ìœ¼ë¡œ ê°ˆì•„íƒˆ ìˆ˜ ìˆì–´." },
                    { name: "ê³ ì”", trans: [], desc: "ë´„ì—ëŠ” ê½ƒì´ ì˜ˆì˜ê²Œ í”¼ëŠ” ì² ê¸¸ì´ ìˆì–´. ğŸŒ¸" },
                    { name: "ì¤‘ì•™", trans: ["ìˆ˜ì¸ë¶„ë‹¹"], desc: "ì•ˆì‚°ì˜ ì¤‘ì‹¬ì§€! íŒ¨ì…˜ ê±°ë¦¬ê°€ ìˆì–´." },
                    { name: "í•œëŒ€ì•", trans: ["ìˆ˜ì¸ë¶„ë‹¹"], desc: "í•œì–‘ëŒ€ ì—ë¦¬ì¹´ ìº í¼ìŠ¤ê°€ ìˆì–´." },
                    { name: "ìƒë¡ìˆ˜", trans: [], desc: "ìƒë¡ìˆ˜ë¼ëŠ” ì±…ì˜ ë°°ê²½ì´ ëœ ê³³ì´ë˜." },
                    { name: "ë°˜ì›”", trans: [], desc: "ë…¼ë°­ì´ ë³´ì´ëŠ” ì‹œê³¨ í’ê²½ì´ ì˜ˆë»." },
                    { name: "ëŒ€ì•¼ë¯¸", trans: [], desc: "ê°ˆì¹˜í˜¸ìˆ˜ë¼ëŠ” ì €ìˆ˜ì§€ê°€ ê·¼ì²˜ì— ìˆì–´." },
                    { name: "ìˆ˜ë¦¬ì‚°", trans: [], desc: "ë“±ì‚°í•˜ê¸° ì¢‹ì€ ìˆ˜ë¦¬ì‚°ì´ ìˆì–´. â›°ï¸" },
                    { name: "ì‚°ë³¸", trans: [], desc: "ì•„íŒŒíŠ¸ ë‹¨ì§€ í•œê°€ìš´ë° ìˆëŠ” ë²ˆí™”ê°€ì•¼." },
                    { name: "ê¸ˆì •", trans: ["1"], desc: "1í˜¸ì„ ì´ë‘ 4í˜¸ì„ ì´ ë§Œë‚˜ëŠ” í™˜ìŠ¹ì—­ì´ì•¼." },
                    { name: "ë²”ê³„", trans: [], desc: "ë°±í™”ì ì´ë‘ ë§›ì§‘ì´ ì •ë§ ë§ì•„." },
                    { name: "í‰ì´Œ", trans: [], desc: "í•™ì›ë„ ë§ê³  ë²•ì›ë„ ìˆì–´." },
                    { name: "ì¸ë•ì›", trans: [], desc: "ë§›ì§‘ì´ ë§ì€ ë™ë„¤ì•¼." },
                    { name: "ì •ë¶€ê³¼ì²œì²­ì‚¬", trans: [], desc: "ë‚˜ëì¼ì„ í•˜ëŠ” ì²­ì‚¬ê°€ ìˆì–´." },
                    { name: "ê³¼ì²œ", trans: [], desc: "ê³¼í•™ê´€ì´ë‘ ê°€ê¹Œì›Œ." },
                    { name: "ëŒ€ê³µì›", trans: [], desc: "ì„œìš¸ëŒ€ê³µì› ë™ë¬¼ì›! ì‚¬ìë‘ ê¸°ë¦° ë³´ëŸ¬ ê°€ì! ğŸ¦" },
                    { name: "ê²½ë§ˆê³µì›", trans: [], desc: "ë§ë“¤ì´ ë‹¬ë¦¬ëŠ” ê²½ë§ˆì¥ì´ ìˆì–´. íˆí! ğŸ" },
                    { name: "ì„ ë°”ìœ„", trans: [], desc: "í° ë°”ìœ„ê°€ ì„œ ìˆì–´ì„œ ì„ ë°”ìœ„ë˜." },
                    { name: "ë‚¨íƒœë ¹", trans: [], desc: "ì„œìš¸ë¡œ ë„˜ì–´ê°€ëŠ” ë†’ì€ ê³ ê°œì•¼." },
                    { name: "ì‚¬ë‹¹", trans: ["2"], desc: "ì‚¬ëŒë“¤ì´ ì •ë§ ë§ì´ ëª¨ì´ëŠ” ë§Œë‚¨ì˜ ì¥ì†Œ!" },
                    { name: "ì´ìˆ˜", trans: ["7"], desc: "ì´ì‹ ëŒ€ì…êµ¬ë¼ê³ ë„ ë¶ˆëŸ¬." },
                    { name: "ë™ì‘", trans: ["9"], desc: "í˜„ì¶©ì›ì´ ìˆëŠ” ê³³ì´ì•¼." },
                    { name: "ì´ì´Œ", trans: ["ê²½ì˜ì¤‘ì•™"], desc: "êµ­ë¦½ì¤‘ì•™ë°•ë¬¼ê´€ì— ì˜›ë‚  ë³´ë¬¼ì´ ê°€ë“í•´! ğŸº" },
                    { name: "ì‹ ìš©ì‚°", trans: [], desc: "í•˜ì´ë¸Œ ì‚¬ì˜¥ì´ ìˆì–´ì„œ BTSë¥¼ ì¢‹ì•„í•˜ë©´ ê°€ë´ì•¼ í•´! ğŸµ" },
                    { name: "ì‚¼ê°ì§€", trans: ["6"], desc: "ì „ìŸê¸°ë…ê´€ì´ ìˆì–´. íƒ±í¬ë‘ ë¹„í–‰ê¸°ê°€ ë©‹ì ¸! âœˆï¸" },
                    { name: "ìˆ™ëŒ€ì…êµ¬", trans: [], desc: "ìˆ™ëª…ì—¬ëŒ€ ì•ì´ë¼ ë§›ìˆëŠ” ê²Œ ë§ì•„." },
                    { name: "ì„œìš¸ì—­", trans: ["1", "ê³µí•­", "ê²½ì˜ì¤‘ì•™"], desc: "ê¸°ì°¨ íƒ€ê³  ì—¬í–‰ ê°ˆ ë•Œ ì˜¤ëŠ” ê³³! ğŸš„" },
                    { name: "íšŒí˜„", trans: [], desc: "ë‚¨ëŒ€ë¬¸ì‹œì¥ì—ì„œ ë§›ìˆëŠ” ê°ˆì¹˜ì¡°ë¦¼ ë¨¹ì." },
                    { name: "ëª…ë™", trans: [], desc: "ì™¸êµ­ì¸ ê´€ê´‘ê°ë„ ë§ê³  ê¸¸ê±°ë¦¬ ìŒì‹ë„ ë§ì•„! ğŸ¢" },
                    { name: "ì¶©ë¬´ë¡œ", trans: ["3"], desc: "ì˜í™”ê´€ì´ë‘ í•œì˜¥ë§ˆì„ì´ ìˆì–´." },
                    { name: "ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›", trans: ["2", "5"], desc: "DDP ê±´ë¬¼ì´ ìš°ì£¼ì„ ì²˜ëŸ¼ ìƒê²¼ì–´!" },
                    { name: "ë™ëŒ€ë¬¸", trans: ["1"], desc: "í¥ì¸ì§€ë¬¸ì´ë¼ëŠ” í° ëŒ€ë¬¸ì´ ìˆì–´." },
                    { name: "í˜œí™”", trans: [], desc: "ì—°ê·¹ì„ ë³¼ ìˆ˜ ìˆëŠ” ì†Œê·¹ì¥ì´ ì•„ì£¼ ë§ì•„. ğŸ­" },
                    { name: "í•œì„±ëŒ€ì…êµ¬", trans: [], desc: "ì„±ë¶ë™ì´ë¼ëŠ” ì˜ˆìœ ë™ë„¤ë¡œ ê°ˆ ìˆ˜ ìˆì–´." },
                    { name: "ì„±ì‹ ì—¬ëŒ€ì…êµ¬", trans: [], desc: "ì‡¼í•‘í•˜ê³  ë°¥ ë¨¹ê¸° ì¢‹ì€ ëŒ€í•™ê°€ì•¼." },
                    { name: "ê¸¸ìŒ", trans: [], desc: "ì•„íŒŒíŠ¸ê°€ ë§ì€ ë‰´íƒ€ìš´ì´ì•¼." },
                    { name: "ë¯¸ì•„ì‚¬ê±°ë¦¬", trans: [], desc: "ë°±í™”ì ì´ ë‘ ê°œë‚˜ ìˆì–´." },
                    { name: "ë¯¸ì•„", trans: [], desc: "ì¡°ìš©í•œ ì£¼íƒê°€ì•¼." },
                    { name: "ìˆ˜ìœ ", trans: [], desc: "ê°•ë¶êµ¬ì²­ì´ ìˆê³  ì‚¬ëŒë“¤ì´ ë§ì´ ëª¨ì—¬." },
                    { name: "ìŒë¬¸", trans: [], desc: "ì•„ê¸°ê³µë£¡ ë‘˜ë¦¬ê°€ ì‚´ë˜ ë™ë„¤ë˜! í˜¸ì´! ğŸ¦•" },
                    { name: "ì°½ë™", trans: ["1"], desc: "1í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒˆ ìˆ˜ ìˆì–´." },
                    { name: "ë…¸ì›", trans: ["7"], desc: "ë°±í™”ì ë„ ìˆê³  ì‚¬ëŒë„ ë§ì€ í° ë™ë„¤ì•¼." },
                    { name: "ìƒê³„", trans: [], desc: "ì•„íŒŒíŠ¸ê°€ ëì—†ì´ í¼ì³ì ¸ ìˆì–´." },
                    { name: "ë‹¹ê³ ê°œ", trans: [], desc: "ì˜›ë‚ ì—” ì—¬ê¸°ê°€ ì¢…ì ì´ì—ˆì–´." },
                    { name: "ë³„ë‚´ë³„ê°€ëŒ", trans: [], desc: "ë³„ë‚´ ì‹ ë„ì‹œì— ìƒˆë¡œ ìƒê¸´ ì—­ì´ì•¼." },
                    { name: "ì˜¤ë‚¨", trans: [], desc: "í˜¸ìˆ˜ê³µì›ì´ ì˜ˆìœ ë™ë„¤ì•¼." },
                    { name: "ì§„ì ‘", trans: [], desc: "ì—¬ê¸°ê°€ 4í˜¸ì„ ì˜ ë! ì¢…ì ì´ì•¼! ğŸ" }
                ]
            },
            "5": {
                name: "5í˜¸ì„ ",
                mainColor: "#996CAC",
                stations: [
                    { name: "ë°©í™”", trans: [], desc: "5í˜¸ì„  ê¸°ì°¨ë“¤ì´ ì‰¬ëŠ” ê³³ì´ì•¼. ê½ƒì´ í”¼ëŠ” ë™ë„¤ë˜!" },
                    { name: "ê°œí™”ì‚°", trans: [], desc: "ì‘ì€ ì‚°ì´ ìˆì–´ì„œ ë“±ì‚°í•˜ê¸° ì¢‹ì•„." },
                    { name: "ê¹€í¬ê³µí•­", trans: ["9", "ê³µí•­", "ì„œí•´"], desc: "ë¹„í–‰ê¸°ë¥¼ íƒ€ê³  ì—¬í–‰ì„ ë– ë‚˜ìš”!" },
                    { name: "ì†¡ì •", trans: [], desc: "ê³µí•­ ê°€ëŠ” ê¸¸ëª©ì— ìˆëŠ” ë™ë„¤ì•¼." },
                    { name: "ë§ˆê³¡", trans: [], desc: "ê³¼í•™ìë“¤ì´ ì—°êµ¬í•˜ëŠ” í° ì—°êµ¬ì†Œê°€ ìˆì–´." },
                    { name: "ë°œì‚°", trans: [], desc: "ë§›ìˆëŠ” ì‹ë‹¹ë“¤ì´ ì •ë§ ë§ì€ ê³³ì´ì•¼." },
                    { name: "ìš°ì¥ì‚°", trans: [], desc: "ë¹„ê°€ ì˜¤ë©´ ê¸°ìš°ì œë¥¼ ì§€ë‚´ë˜ ì‚°ì´ë˜." },
                    { name: "í™”ê³¡", trans: [], desc: "ì‚¬ëŒë“¤ì´ ì•„ì£¼ ë§ì´ ì‚¬ëŠ” ë™ë„¤ì•¼." },
                    { name: "ê¹Œì¹˜ì‚°", trans: ["2"], desc: "ê¹Œì¹˜ê°€ ë§ì•˜ë˜ ì‚°ì´ë˜. ê¹ê¹!" },
                    { name: "ì‹ ì •", trans: [], desc: "ì€í–‰ë‚˜ë¬´ê°€ ë§ì€ ë™ë„¤ì•¼." },
                    { name: "ëª©ë™", trans: [], desc: "ê³µë¶€í•˜ëŠ” í•™ì›ì´ ì •ë§ ë§ì•„." },
                    { name: "ì˜¤ëª©êµ", trans: [], desc: "í˜„ëŒ€ë°±í™”ì ì´ë‘ ì•¼êµ¬ì¥ì´ ê°€ê¹Œì›Œ!" },
                    { name: "ì–‘í‰", trans: [], desc: "ì•ˆì–‘ì²œ ëƒ‡ê°€ë¥¼ ê±´ë„ ìˆ˜ ìˆì–´." },
                    { name: "ì˜ë“±í¬êµ¬ì²­", trans: ["2"], desc: "êµ¬ì²­ì€ ìš°ë¦¬ ë™ë„¤ ì¼ì„ í•´ì£¼ëŠ” ê³³ì´ì•¼." },
                    { name: "ì˜ë“±í¬ì‹œì¥", trans: [], desc: "ì•„ì£¼ ì˜¤ë˜ëœ ì „í†µì‹œì¥ì´ ìˆì–´." },
                    { name: "ì‹ ê¸¸", trans: ["1"], desc: "1í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒ€ë©´ ì¸ì²œìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆì–´!" },
                    { name: "ì—¬ì˜ë„", trans: ["9"], desc: "ë†’ì€ ë¹Œë”©ë“¤ê³¼ í•œê°• ê³µì›ì´ ìˆì–´." },
                    { name: "ì—¬ì˜ë‚˜ë£¨", trans: [], desc: "ì—­ì—ì„œ ë‚˜ì˜¤ë©´ ë°”ë¡œ í•œê°•ì´ì•¼! í…íŠ¸ ì¹˜ê³  ë†€ì!" },
                    { name: "ë§ˆí¬", trans: [], desc: "ë§›ìˆëŠ” ê³ ê¸°ì§‘ì´ ë§ì€ ê³³ì´ì•¼." },
                    { name: "ê³µë•", trans: ["6", "ê²½ì˜ì¤‘ì•™", "ê³µí•­"], desc: "ê¸°ì°¨ê°€ 4ê°œë‚˜ ë‹¤ë‹ˆëŠ” ì—„ì²­ í° ì—­ì´ì•¼!" },
                    { name: "ì• ì˜¤ê°œ", trans: [], desc: "ì‘ì€ ê³ ê°œë¼ëŠ” ëœ»ì´ë˜. ê·€ì—½ì§€?" },
                    { name: "ì¶©ì •ë¡œ", trans: ["2"], desc: "ì´ˆë¡ìƒ‰ 2í˜¸ì„ ìœ¼ë¡œ ê°ˆì•„íƒˆ ìˆ˜ ìˆì–´." },
                    { name: "ì„œëŒ€ë¬¸", trans: [], desc: "ê²½ì°°ì²­ ë³¸ë¶€ê°€ ì—¬ê¸° ìˆì–´. ì‚ìš©ì‚ìš©!" },
                    { name: "ê´‘í™”ë¬¸", trans: [], desc: "ì„¸ì¢…ëŒ€ì™•ë‹˜ê³¼ ì´ìˆœì‹  ì¥êµ°ë‹˜ ë™ìƒì´ ìˆì–´!" },
                    { name: "ì¢…ë¡œ3ê°€", trans: ["1", "3"], desc: "ì˜í™”ê´€ë„ ë§ê³  ê¸ˆì€ë³´ì„ë„ ë§ì´ íŒ”ì•„." },
                    { name: "ì„ì§€ë¡œ4ê°€", trans: ["2"], desc: "ì¡°ëª… ê°€ê²Œê°€ ë§ì•„ì„œ ë°˜ì§ë°˜ì§í•´." },
                    { name: "ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›", trans: ["2", "4"], desc: "ìš°ì£¼ì„ ì²˜ëŸ¼ ìƒê¸´ ë©‹ì§„ ê±´ë¬¼ì´ ìˆì–´!" },
                    { name: "ì²­êµ¬", trans: ["6"], desc: "ì•½ìˆ˜ë™ì´ë‘ ì‹ ë‹¹ë™ ì‚¬ì´ì— ìˆì–´." },
                    { name: "ì‹ ê¸ˆí˜¸", trans: [], desc: "ì‡ ë¥¼ ë…¹ì´ë˜ ê³³ì´ë¼ ê¸ˆí˜¸ë™ì´ë˜." },
                    { name: "í–‰ë‹¹", trans: [], desc: "ì‚´êµ¬ ë‚˜ë¬´ê°€ ë§ì•˜ë˜ ê³³ì´ë˜." },
                    { name: "ì™•ì‹­ë¦¬", trans: ["2", "ìˆ˜ì¸ë¶„ë‹¹", "ê²½ì˜ì¤‘ì•™"], desc: "ì˜í™”ë„ ë³´ê³  ì‡¼í•‘ë„ í•˜ëŠ” í° ì—­ì´ì•¼." },
                    { name: "ë§ˆì¥", trans: [], desc: "ë§›ìˆëŠ” ì†Œê³ ê¸°ë¥¼ íŒŒëŠ” ì‹œì¥ì´ ìˆì–´." },
                    { name: "ë‹µì‹­ë¦¬", trans: [], desc: "ì˜›ë‚  ë¬¼ê±´ë“¤ì„ íŒŒëŠ” ìƒê°€ê°€ ìˆì–´." },
                    { name: "ì¥í•œí‰", trans: [], desc: "ìë™ì°¨ ë§¤ë§¤ ì‹œì¥ì´ ìˆì–´." },
                    { name: "êµ°ì", trans: ["7"], desc: "ê°€êµ¬ ê±°ë¦¬ê°€ ìœ ëª…í•œ ê³³ì´ì•¼." },
                    { name: "ì•„ì°¨ì‚°", trans: [], desc: "ì–´ë¦°ì´ëŒ€ê³µì› í›„ë¬¸ìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆì–´! ì½”ë¼ë¦¬ ë³´ëŸ¬ ê°€ì!" },
                    { name: "ê´‘ë‚˜ë£¨", trans: [], desc: "í•œê°•ì´ ë³´ì´ëŠ” ë©‹ì§„ ë™ë„¤ì•¼." },
                    { name: "ì²œí˜¸", trans: ["8"], desc: "ì¥ë‚œê° ê±°ë¦¬ê°€ ìˆì–´! ì™€ ì‹ ë‚œë‹¤!" },
                    { name: "ê°•ë™", trans: [], desc: "ì—¬ê¸°ì„œ ê¸°ì°¨ê°€ ë‘ ê°ˆë˜ë¡œ ë‚˜ë‰˜ì–´!" },
                    { name: "ê¸¸ë™", trans: [], desc: "ê¸¸ë™ ìƒíƒœê³µì›ì´ ìˆì–´. ê°œêµ´ê°œêµ´!" },
                    { name: "êµ½ì€ë‹¤ë¦¬", trans: [], desc: "í™ˆí”ŒëŸ¬ìŠ¤ê°€ ì—­ ì•ˆì— ìˆì–´." },
                    { name: "ëª…ì¼", trans: [], desc: "í•™êµê°€ ì•„ì£¼ ë§ì€ ë™ë„¤ì•¼." },
                    { name: "ê³ ë•", trans: ["9"], desc: "ì•„íŒŒíŠ¸ê°€ ìˆ²ì²˜ëŸ¼ ë§ì€ ê³³ì´ì•¼." },
                    { name: "ìƒì¼ë™", trans: [], desc: "ì²¨ë‹¨ íšŒì‚¬ë“¤ì´ ëª¨ì—¬ìˆëŠ” ê³³ì´ì•¼." },
                    { name: "ê°•ì¼", trans: [], desc: "ì„œìš¸ì˜ ëìë½ì´ì•¼." },
                    { name: "ë¯¸ì‚¬", trans: [], desc: "í˜¸ìˆ˜ê³µì›ì´ ì˜ˆìœ ì‹ ë„ì‹œì•¼." },
                    { name: "í•˜ë‚¨í’ì‚°", trans: [], desc: "ì´ë§ˆíŠ¸ê°€ ê°€ê¹Œì›Œ." },
                    { name: "í•˜ë‚¨ì‹œì²­", trans: [], desc: "í•˜ë‚¨ì‹œì˜ ëŒ€ì¥ì¸ ì‹œì²­ì´ ìˆì–´." },
                    { name: "í•˜ë‚¨ê²€ë‹¨ì‚°", trans: [], desc: "ë„ì°©! ìŠ¤íƒ€í•„ë“œë„ ê°€ê³  ì‚°ì—ë„ ê°ˆ ìˆ˜ ìˆì–´!" }
                ]
            },
            "9": {
                name: "9í˜¸ì„ ",
                mainColor: "#AA9872",
                stations: [
                    { name: "ì¤‘ì•™ë³´í›ˆë³‘ì›", trans: [], desc: "ë‚˜ë¼ë¥¼ ì§€í‚¨ ì˜ì›…ë“¤ì„ ìœ„í•œ ë³‘ì›ì´ì•¼." },
                    { name: "ë‘”ì´Œì˜¤ë¥œ", trans: [], desc: "í° í•™êµê°€ ì˜†ì— ìˆì–´." },
                    { name: "ì˜¬ë¦¼í”½ê³µì›", trans: ["5"], desc: "ê±°ëŒ€í•œ ì—„ì§€ì†ê°€ë½ ì¡°ê°ìƒì„ ì°¾ì•„ë´!" },
                    { name: "í•œì„±ë°±ì œ", trans: [], desc: "ë°±ì œ ì‹œëŒ€ ë°•ë¬¼ê´€ì´ ìˆì–´." },
                    { name: "ì†¡íŒŒë‚˜ë£¨", trans: [], desc: "ì˜›ë‚ ì—” ë°°ê°€ ë‹¤ë‹ˆë˜ ê³³ì´ë˜." },
                    { name: "ì„ì´Œ", trans: ["8"], desc: "ë¡¯ë°ì›”ë“œíƒ€ì›Œê°€ ìŠ~ í•˜ê³  ë³´ì—¬!" },
                    { name: "ì„ì´Œê³ ë¶„", trans: [], desc: "ì˜›ë‚  ì™•ë“¤ì˜ ë¬´ë¤ì´ ìˆì–´." },
                    { name: "ì‚¼ì „", trans: [], desc: "ì ì‹¤ì´ë‘ ê°€ê¹Œìš´ ë™ë„¤ì•¼." },
                    { name: "ì¢…í•©ìš´ë™ì¥", trans: ["2"], desc: "ì•¼êµ¬ì¥ì—ì„œ ì‘ì› ì†Œë¦¬ê°€ ë“¤ë ¤!" },
                    { name: "ë´‰ì€ì‚¬", trans: [], desc: "ë„ì‹¬ ì†ì— ì•„ì£¼ í° ì ˆì´ ìˆì–´." },
                    { name: "ì‚¼ì„±ì¤‘ì•™", trans: [], desc: "ì½”ì—‘ìŠ¤ë‘ ê°€ê¹Œì›Œ." },
                    { name: "ì„ ì •ë¦‰", trans: ["ìˆ˜ì¸ë¶„ë‹¹"], desc: "ìˆ² ì†ì— ì™•ë¦‰ì´ ìˆ¨ì–´ìˆì–´." },
                    { name: "ì–¸ì£¼", trans: [], desc: "ê°•ë‚¨ ì°¨ë³‘ì›ì´ ê·¼ì²˜ì— ìˆì–´." },
                    { name: "ì‹ ë…¼í˜„", trans: ["ì‹ ë¶„ë‹¹"], desc: "ê°•ë‚¨ì—ì„œ ì œì¼ ë³µì¡í•œ ê³³ ì¤‘ í•˜ë‚˜ì•¼!" },
                    { name: "ì‚¬í‰", trans: [], desc: "ì¡°ìš©í•œ ì•„íŒŒíŠ¸ ë‹¨ì§€ì•¼." },
                    { name: "ê³ ì†í„°ë¯¸ë„", trans: ["3", "7"], desc: "ì—¬í–‰ ê°€ëŠ” ë²„ìŠ¤ë¥¼ íƒ€ëŠ” ê³³ì´ì•¼!" },
                    { name: "ì‹ ë°˜í¬", trans: [], desc: "í•œê°• ê³µì›ìœ¼ë¡œ ì‚°ì±… ê°€ì!" },
                    { name: "êµ¬ë°˜í¬", trans: [], desc: "ì‘ì€ ëƒ‡ë¬¼ì´ íë¥´ëŠ” ê³³ì´ì•¼." },
                    { name: "ë™ì‘", trans: ["4"], desc: "í˜„ì¶©ì›ì´ ìˆëŠ” ê³³ì´ì•¼." },
                    { name: "í‘ì„", trans: [], desc: "ì¤‘ì•™ëŒ€í•™êµê°€ ìˆì–´." },
                    { name: "ë…¸ë“¤", trans: [], desc: "í•œê°• ìœ„ì— ë–  ìˆëŠ” ì„¬ì´ì•¼!" },
                    { name: "ë…¸ëŸ‰ì§„", trans: ["1"], desc: "ë§›ìˆëŠ” íšŒë¥¼ ë¨¹ìœ¼ëŸ¬ ê°€ì!" },
                    { name: "ìƒ›ê°•", trans: ["ì‹ ë¦¼"], desc: "ì—¬ì˜ë„ ìƒ›ê°•ì— ì˜¤ë¦¬ë“¤ì´ ì‚´ì•„." },
                    { name: "ì—¬ì˜ë„", trans: ["5"], desc: "ë”í˜„ëŒ€ ì„œìš¸ ë°±í™”ì ì´ ìˆì–´!" },
                    { name: "êµ­íšŒì˜ì‚¬ë‹¹", trans: [], desc: "íƒœê¶Œë¸Œì´ê°€ ë‚˜ì˜¬ ê²ƒ ê°™ì€ ë‘¥ê·¼ ì§€ë¶• ê±´ë¬¼!" },
                    { name: "ë‹¹ì‚°", trans: ["2"], desc: "ì „ì²  íƒ€ê³  í•œê°• ë‹¤ë¦¬ë¥¼ ê±´ë„ˆë´!" },
                    { name: "ì„ ìœ ë„", trans: [], desc: "ê³µì›ì´ ëœ ì˜›ë‚  ì •ìˆ˜ì¥ì´ì•¼." },
                    { name: "ì‹ ëª©ë™", trans: [], desc: "ìì „ê±° íƒ€ê¸° ì¢‹ì€ ì•ˆì–‘ì²œì´ ìˆì–´." },
                    { name: "ì—¼ì°½", trans: [], desc: "ì˜›ë‚ ì— ì†Œê¸ˆ ì°½ê³ ê°€ ìˆì—ˆëŒ€." },
                    { name: "ë“±ì´Œ", trans: [], desc: "ì¹¼êµ­ìˆ˜ê°€ ë§›ìˆëŠ” ë™ë„¤ì•¼." },
                    { name: "ì¦ë¯¸", trans: [], desc: "ì´ë§ˆíŠ¸ê°€ ë°”ë¡œ ì˜†ì— ìˆì–´." },
                    { name: "ê°€ì–‘", trans: [], desc: "í—ˆì¤€ ì„ ìƒë‹˜ ë°•ë¬¼ê´€ì´ ìˆì–´!" },
                    { name: "ì–‘ì²œí–¥êµ", trans: [], desc: "ì˜›ë‚  í•™êµê°€ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆì–´." },
                    { name: "ë§ˆê³¡ë‚˜ë£¨", trans: ["ê³µí•­"], desc: "ì‹ë¬¼ì›ì´ ì•„ì£¼ ë©‹ì§„ ê³³ì´ì•¼!" },
                    { name: "ì‹ ë°©í™”", trans: [], desc: "ìƒˆ ì•„íŒŒíŠ¸ë“¤ì´ ì•„ì£¼ ë§ì•„." },
                    { name: "ê³µí•­ì‹œì¥", trans: [], desc: "ì‹œì¥ì—ì„œ ë§›ìˆëŠ” ë–¡ë³¶ì´ ë¨¹ì." },
                    { name: "ê¹€í¬ê³µí•­", trans: ["5", "ê³µí•­", "ì„œí•´"], desc: "ë¹„í–‰ê¸° íƒ€ê³  ì—¬í–‰ ê°€ì! ìŠìŠ!" },
                    { name: "ê°œí™”", trans: [], desc: "9í˜¸ì„  ê¸°ì°¨ë“¤ì´ ì ìëŠ” ì§‘ì´ì•¼." }
                ]
            }
        };

        let currentLine = null;
        let stationList = [];
        let currentIndex = 0;
        let score = 0;
        let currentDescText = ""; 
        let audioContext = null; 
        let isProcessing = false; 
        let tempLineId = ''; 

        // --- 2. ì˜¤ë””ì˜¤ ê¸°ëŠ¥ (ì›í•˜ì‹œë˜ ì‹¬í”Œ ë²„ì „ + ì•ˆë‚´ë°©ì†¡ ë©˜íŠ¸) ---
        
        function speakText(text) {
            if (!window.speechSynthesis) return;
            window.speechSynthesis.cancel(); 

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ko-KR';
            utterance.rate = 1.0; 
            utterance.pitch = 1.1; // â˜… ì›í•˜ì‹œë˜ ëª©ì†Œë¦¬ í†¤

            window.speechSynthesis.speak(utterance);
        }

        function speakCurrentText() {
            speakText(currentDescText);
        }

        // --- 3. í‚¤ë³´ë“œ ì…ë ¥ ê¸°ëŠ¥ ---
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('play-screen').style.display !== 'block') return;
            if (isProcessing) return; 

            const key = e.key;
            const optionBtns = document.querySelectorAll('.option-btn');
            
            if ((key === '1' || key === 'NumPad1') && optionBtns[0]) {
                optionBtns[0].click();
                optionBtns[0].classList.add('key-pressed');
                setTimeout(()=>optionBtns[0].classList.remove('key-pressed'), 200);
            } else if ((key === '2' || key === 'NumPad2') && optionBtns[1]) {
                optionBtns[1].click();
                optionBtns[1].classList.add('key-pressed');
                setTimeout(()=>optionBtns[1].classList.remove('key-pressed'), 200);
            } else if ((key === '3' || key === 'NumPad3') && optionBtns[2]) {
                optionBtns[2].click();
                optionBtns[2].classList.add('key-pressed');
                setTimeout(()=>optionBtns[2].classList.remove('key-pressed'), 200);
            }
        });

        // --- 4. ê²Œì„ ë¡œì§ ---
        function showDirection(lineId) {
            tempLineId = lineId;
            const lineData = gameData[lineId];
            const first = lineData.stations[0].name;
            const last = lineData.stations[lineData.stations.length-1].name;

            document.getElementById('dir-btn-forward').innerText = `â¡ ${first} ì¶œë°œ â†’ ${last} ë„ì°©`;
            document.getElementById('dir-btn-reverse').innerText = `â¬… ${last} ì¶œë°œ â†’ ${first} ë„ì°©`;

            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('direction-screen').style.display = 'flex';
        }

        function startGameWithDirection(isReverse) {
            currentLine = gameData[tempLineId];
            stationList = isReverse ? [...currentLine.stations].reverse() : [...currentLine.stations];

            document.getElementById('direction-screen').style.display = 'none';
            document.getElementById('game-header').style.display = 'flex';
            document.getElementById('game-container').style.display = 'flex';
            
            document.getElementById('game-title').innerText = currentLine.name;
            document.getElementById('game-title').style.color = currentLine.mainColor;
            document.getElementById('game-area').style.borderColor = currentLine.mainColor;
            
            initGame();
        }

        function initGame() {
            currentIndex = 0;
            score = 0;
            isProcessing = false; 
            updateScore();
            
            document.getElementById('play-screen').style.display = 'block';
            document.getElementById('success-screen').style.display = 'none';
            document.getElementById('message').innerText = "";
            document.getElementById('info-title').innerText = "ì—­ ì´ì•¼ê¸° ğŸ“–";
            
            const introText = "ì•ˆë…•? ë‚˜ëŠ” ì§€í•˜ì²  ìš”ì •ì´ì•¼.<br>ì •ë‹µì„ ë§ì¶”ë©´ ì´ì•¼ê¸°ë¥¼ ì½ì–´ì¤„ê²Œ!";
            document.getElementById('info-text').innerHTML = introText;
            currentDescText = "ì•ˆë…•? ë‚˜ëŠ” ì§€í•˜ì²  ìš”ì •ì´ì•¼. ì •ë‹µì„ ë§ì¶”ë©´ ì´ì•¼ê¸°ë¥¼ ì½ì–´ì¤„ê²Œ!"; 
            
            drawMapInitial();
            revealStation(0, true); 
            loadQuestion();
        }

        function updateScore() {
            document.getElementById('score-board').innerHTML = 
                `ë§ì¶˜ ê°œìˆ˜: <span class="highlight-score">${score}</span> / ${stationList.length - 1}`;
        }

        function drawMapInitial() {
            const mapContainer = document.getElementById('map-container');
            mapContainer.innerHTML = '';

            stationList.forEach((station, index) => {
                const wrapper = document.createElement('div');
                wrapper.className = 'station-wrapper';

                const dot = document.createElement('div');
                dot.className = 'station-dot';
                dot.id = `dot-${index}`;
                dot.dataset.activeColor = currentLine.mainColor;
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'station-name';
                nameDiv.id = `name-${index}`;
                nameDiv.innerText = station.name; 

                if(station.trans.length > 0) {
                    const badgeContainer = document.createElement('div');
                    badgeContainer.className = 'transfer-badges';
                    station.trans.forEach(line => {
                        const badge = document.createElement('span');
                        badge.className = 'line-badge';
                        badge.style.backgroundColor = lineColors[line] || '#ccc';
                        badgeContainer.appendChild(badge);
                    });
                    nameDiv.appendChild(badgeContainer);
                }

                wrapper.appendChild(dot);
                wrapper.appendChild(nameDiv);
                mapContainer.appendChild(wrapper);
            });
        }

        function revealStation(index, isSuccess) {
            const dot = document.getElementById(`dot-${index}`);
            const name = document.getElementById(`name-${index}`);
            
            if(dot) {
                if(isSuccess) {
                    dot.classList.add('active');
                    dot.style.backgroundColor = currentLine.mainColor;
                    dot.style.borderColor = currentLine.mainColor;
                } else {
                    dot.classList.add('missed'); 
                }
            }
            if(name) {
                name.classList.add('revealed');
                if(!isSuccess) name.classList.add('missed-name');
            }
        }

        function loadQuestion() {
            isProcessing = false; 

            if (currentIndex >= stationList.length - 1) {
                gameClear();
                return;
            }

            const currentData = stationList[currentIndex];
            const nextData = stationList[currentIndex + 1];

            document.getElementById('current-station').innerText = currentData.name;
            document.getElementById('current-station').style.color = currentLine.mainColor;
            
            let options = [nextData.name];
            
            const otherLineStations = Object.keys(otherStationsDB);
            const currentLineStationNames = stationList.map(s => s.name);
            const allWrongCandidates = [...otherLineStations, ...currentLineStationNames];

            while(options.length < 3) {
                const randomPick = allWrongCandidates[Math.floor(Math.random() * allWrongCandidates.length)];
                if(randomPick !== nextData.name && !options.includes(randomPick) && randomPick !== currentData.name) {
                    options.push(randomPick);
                }
            }

            options.sort(() => Math.random() - 0.5);

            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';

            options.forEach((optName, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                
                const numSpan = `<span class="btn-num" style="background-color:${currentLine.mainColor}">${idx+1}</span>`;
                btn.innerHTML = `${numSpan} ${optName}`;
                btn.onclick = () => checkAnswer(optName, nextData, btn);
                
                optionsContainer.appendChild(btn);
            });
        }

        function checkAnswer(selectedName, nextData, btnElement) {
            if (isProcessing) return;
            isProcessing = true; 

            const messageEl = document.getElementById('message');
            const btns = document.querySelectorAll('.option-btn');
            btns.forEach(b => b.disabled = true); 

            currentIndex++;
            
            document.getElementById('info-title').innerText = `${nextData.name}ì—­ ì´ì•¼ê¸° ğŸ“–`;
            document.getElementById('info-text').innerHTML = nextData.desc;
            
            // ì•ˆë‚´ë°©ì†¡ ë©˜íŠ¸ + ì„¤ëª…
            const textToRead = `ì´ë²ˆ ì—­ì€ ${nextData.name}, ${nextData.name} ì—­ì…ë‹ˆë‹¤. ${nextData.desc}`;
            currentDescText = textToRead;

            if (selectedName === nextData.name) {
                // [ì •ë‹µ]
                score++;
                messageEl.innerText = "ë”©ë™ëŒ•! ì •ë‹µì…ë‹ˆë‹¤! â­•";
                messageEl.className = "correct";
                updateScore();
                revealStation(currentIndex, true); 
                
                speakText(textToRead); 

            } else {
                // [ì˜¤ë‹µ] -> íŒ¨ìŠ¤ ëª¨ë“œ
                messageEl.innerText = `ë•¡! ì •ë‹µì€ ${nextData.name}ì—­ì´ì—ˆìŠµë‹ˆë‹¤! âŒ`;
                messageEl.className = "wrong";
                btnElement.style.backgroundColor = "#fff5f5";
                
                revealStation(currentIndex, false); 

                // í‹€ë ¸ì„ ë• ì •ë‹µë§Œ ì•Œë ¤ì£¼ê³  ì„¤ëª… ì½ì–´ì£¼ê¸°
                const wrongText = `ë•¡! ì •ë‹µì€ ${nextData.name} ì—­ì…ë‹ˆë‹¤. ${nextData.desc}`;
                currentDescText = wrongText;
                speakText(wrongText); 
            }

            setTimeout(() => {
                messageEl.innerText = "";
                loadQuestion();
            }, 2500); // ì½ëŠ” ì‹œê°„ ê³ ë ¤í•´ì„œ ì¡°ê¸ˆ ë” ì—¬ìœ ìˆê²Œ
        }

        function gameClear() {
            document.getElementById('play-screen').style.display = 'none';
            document.getElementById('success-screen').style.display = 'block';
            
            document.getElementById('final-score').innerText = 
                `ì´ ${stationList.length-1}ê°œ ì¤‘ ${score}ê°œë¥¼ ë§ì·„ì–´ìš”!`;
            
            const clearText = `ì™€! ${currentLine.name} ìš´ì „ì„ ë§ˆì³¤ì–´! ì •ë§ ìˆ˜ê³ í–ˆì–´!`;
            document.getElementById('info-title').innerText = "ìš´í–‰ ì¢…ë£Œ! ğŸ‰";
            document.getElementById('info-text').innerHTML = clearText;
            
            currentDescText = clearText;
            speakText(clearText);
        }
    </script>
</body>
</html>
